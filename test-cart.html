<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Warenkorb Test - CSS Berlin</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
            max-width: 800px;
            margin: 40px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .test-panel {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2D5016;
            margin-bottom: 20px;
        }
        button {
            padding: 12px 24px;
            margin: 10px 10px 10px 0;
            background: #2D5016;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
        }
        button:hover {
            background: #1F3A0E;
        }
        button.secondary {
            background: #FF8C42;
        }
        button.danger {
            background: #dc3545;
        }
        #cartData {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            white-space: pre-wrap;
            max-height: 400px;
            overflow-y: auto;
        }
        .status {
            padding: 10px 15px;
            margin: 15px 0;
            border-radius: 6px;
            font-weight: 600;
        }
        .status.success {
            background: #d4edda;
            color: #155724;
        }
        .status.info {
            background: #d1ecf1;
            color: #0c5460;
        }
    </style>
</head>
<body>
    <div class="test-panel">
        <h1>ðŸ›’ Warenkorb Test Panel</h1>

        <div class="status info" id="status">
            Warenkorb Status: <span id="itemCount">0</span> Artikel
        </div>

        <div style="margin: 20px 0;">
            <button onclick="addTestProduct()">Test Produkt hinzufÃ¼gen</button>
            <button onclick="loadCart()" class="secondary">Warenkorb laden</button>
            <button onclick="clearCart()" class="danger">Warenkorb leeren</button>
            <button onclick="goToCart()">Zur Warenkorb Seite</button>
        </div>

        <div id="cartData"></div>
    </div>

    <script>
        function addTestProduct() {
            let cart = JSON.parse(localStorage.getItem('cssberlin_cart') || '[]');

            const testProduct = {
                id: Date.now(),
                name: 'Test Produkt ' + (cart.length + 1),
                price: (Math.random() * 50 + 10).toFixed(2) + 'â‚¬',
                image: 'https://images.unsplash.com/photo-1551028719-00167b16eac5?w=600&h=750&fit=crop',
                category: 'Test',
                size: 'M',
                quantity: 1,
                addedAt: new Date().toISOString()
            };

            cart.push(testProduct);
            localStorage.setItem('cssberlin_cart', JSON.stringify(cart));

            loadCart();

            document.getElementById('status').className = 'status success';
            document.getElementById('status').innerHTML = 'âœ… Produkt hinzugefÃ¼gt! Warenkorb hat jetzt ' + cart.length + ' Artikel';
        }

        function loadCart() {
            const cart = JSON.parse(localStorage.getItem('cssberlin_cart') || '[]');
            document.getElementById('itemCount').textContent = cart.length;

            const cartDataDiv = document.getElementById('cartData');

            if (cart.length === 0) {
                cartDataDiv.innerHTML = '<em style="color: #999;">Warenkorb ist leer</em>';
            } else {
                cartDataDiv.innerHTML = '<strong>LocalStorage Daten:</strong>\n\n' + JSON.stringify(cart, null, 2);
            }
        }

        function clearCart() {
            if (confirm('MÃ¶chten Sie den Warenkorb wirklich leeren?')) {
                localStorage.removeItem('cssberlin_cart');
                loadCart();

                document.getElementById('status').className = 'status info';
                document.getElementById('status').innerHTML = 'Warenkorb geleert!';
            }
        }

        function goToCart() {
            window.location.href = 'warenkorb.html';
        }

        // Load on page load
        loadCart();
    </script>
</body>
</html>
